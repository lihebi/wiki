#+TITLE: Docker

Install =docker= package and start the service by
#+BEGIN_EXAMPLE
systemctl start docker
systemctl enable docker
#+END_EXAMPLE

We can build Debian image easily on Arch:

#+BEGIN_EXAMPLE
mkdir jessie-chroot
# debootstrap jessie ./jessie-chroot http://http.debian.net/debian/
# cd jessie-chroot
# tar cpf - . | docker import - debian
# docker run -t -i --rm debian /bin/bash
#+END_EXAMPLE

Re-launch a stopped container can be done by =docker start
<container>= and will be detached by default if it is run by that.

You can assign a name to the container so that you can better remember
and reference it.

* General operations

#+BEGIN_EXAMPLE
# run container in daemon mode, must have -t
docker run -d -t debian /bin/bash
# run command non-interactively and get output
docker exec <ID> echo "hello"
# attach and enter th 
docker exec -it <ID> /bin/bash
#+END_EXAMPLE

* Remove sudo
#+BEGIN_EXAMPLE
sudo groupadd docker
sudo gpasswd -a ${USER} docker
sudo service docker restart
newgrp docker
#+END_EXAMPLE

* Dockerfile

I'm trying a docker file for srcml container. 
#+BEGIN_EXAMPLE
FROM debian
RUN apt-get -y update & apt-get install -y libarchive-dev libcurl4-openssl-dev
RUN wget http://131.123.42.38/lmcrs/beta/srcML-Ubuntu14.04-64.deb srcml.deb
RUN dpkg -i srcml.deb
#+END_EXAMPLE
* TODO Docker hub
When pushing and pulling, what exactly happens?
